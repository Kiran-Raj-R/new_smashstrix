{% extends "base.html" %}
{% block title %}Reset Password - SmashStrix{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-[80vh] bg-gray-100 py-10">
  <div class="bg-white shadow-lg rounded-2xl p-8 w-full max-w-md">

    <h2 class="text-2xl font-bold text-gray-900 mb-4 text-center">Reset Password</h2>

    <form method="POST" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-gray-700 font-medium mb-1">New Password</label>
        <div class="relative">
          <input
            id="password1"
            type="password"
            name="password1"
            required
            class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2
                   focus:ring-blue-500 focus:border-blue-500"
            placeholder="Enter new password"
          >
          <span
            class="absolute right-3 top-3 cursor-pointer text-gray-500"
            onclick="togglePassword('password1', this)"
          >
            <i class="ri-eye-off-line text-xl"></i>
          </span>
        </div>
      </div>
      <div>
        <label class="block text-gray-700 font-medium mb-1">Confirm Password</label>
        <div class="relative">
          <input
            id="password2"
            type="password"
            name="password2"
            required
            class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2
                   focus:ring-blue-500 focus:border-blue-500"
            placeholder="Re-enter new password"
          >
          <span
            class="absolute right-3 top-3 cursor-pointer text-gray-500"
            onclick="togglePassword('password2', this)"
          >
            <i class="ri-eye-off-line text-xl"></i>
          </span>
        </div>
      </div>

      <button
        type="submit"
        class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition font-semibold"
      >
        Reset Password
      </button>
    </form>

    <div class="mt-4 text-center">
      <a href="{% url 'login' %}" class="text-blue-600 hover:underline">
        Back to Login
      </a>
    </div>

  </div>
</div>
<script>
  function togglePassword(fieldId, iconElement) {
    const field = document.getElementById(fieldId);
    const icon = iconElement.querySelector("i");

    if (field.type === "password") {
      field.type = "text";
      icon.classList.remove("ri-eye-off-line");
      icon.classList.add("ri-eye-line");
    } else {
      field.type = "password";
      icon.classList.remove("ri-eye-line");
      icon.classList.add("ri-eye-off-line");
    }
  }
</script>

{% endblock %}