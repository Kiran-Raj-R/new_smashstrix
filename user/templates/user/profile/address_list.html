{% extends "user/profile/base.html" %}

{% block dashboard_content %}
<div class="bg-white rounded-xl shadow p-6">

  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-semibold">My Addresses</h2>
    <a href="{% url 'address_add' %}"
       class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      + Add Address
    </a>
  </div>

  {% if addresses %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {% for address in addresses %}
        <div class="border rounded-lg p-4 relative">
          {% if address.is_default %}
            <span class="absolute top-2 right-2 text-xs bg-green-100 text-green-700 px-2 py-1 rounded">
              Default
            </span>
          {% endif %}

          <p class="font-medium">{{ address.full_name }}</p>
          <p class="text-sm text-gray-600">{{ address.phone }}</p>
          <p class="text-sm text-gray-700 mt-1">
            {{ address.address_line }},
            {{ address.city }},
            {{ address.state }} - {{ address.pincode }}
          </p>

          <div class="flex gap-4 mt-4 text-sm">
            <a href="{% url 'address_edit' address.id %}" class="text-blue-600">Edit</a>
            <a href="{% url 'address_delete' address.id %}"
               class="text-red-600"
               onclick="return confirm('Delete this address?')">
              Delete
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-gray-600">No addresses added yet.</p>
  {% endif %}

</div>
{% endblock %}
