{% extends "user/profile/base.html" %}

{% block dashboard_content %}
<div class="bg-white rounded-xl shadow p-6">

  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-semibold">My Addresses</h2>
    <a href="{% url 'address_add' %}"
       class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700">
      + Add New Address
    </a>
  </div>

  {% if addresses %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {% for address in addresses %}
      <div class="border rounded-lg p-4 relative {% if address.is_default %}border-blue-500{% endif %}">

        {% if address.is_default %}
          <span class="absolute top-2 right-2 text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded">
            Default
          </span>
        {% endif %}

        <p class="font-medium mb-1">{{ address.full_name }}</p>
        <p class="text-sm text-gray-600">{{ address.phone }}</p>

        <p class="text-sm text-gray-700 mt-2">
          {{ address.address_line1 }},
          {{ address.city }},
          {{ address.state }} - {{ address.pincode }}
        </p>

        <div class="flex gap-4 mt-4 text-sm">
          <a href="{% url 'address_edit' address.id %}" class="text-blue-600 hover:underline">
            Edit
          </a>
          <a href="{% url 'address_delete' address.id %}" class="text-red-600 hover:underline">
            Delete
          </a>
        </div>

      </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-gray-500">No addresses added yet.</p>
  {% endif %}

</div>
{% endblock %}