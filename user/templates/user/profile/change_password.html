{% extends "user/profile/base.html" %}

{% block dashboard_content %}
<div class="bg-white rounded-xl shadow p-6 max-w-2xl">

  <h2 class="text-xl font-semibold mb-6 border-b pb-3">
    Change Password
  </h2>

  <form method="POST" class="space-y-5">
    {% csrf_token %}

    {% if form.non_field_errors %}
      <p class="text-red-600 text-sm">{{ form.non_field_errors }}</p>
    {% endif %}

    <div>
      <label class="block text-sm font-medium mb-1">Current Password</label>
      {{ form.old_password }}
      {% if form.old_password.errors %}
        <p class="text-red-500 text-sm">{{ form.old_password.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">New Password</label>
      {{ form.new_password }}
      <p class="text-xs text-gray-500 mt-1">
        Minimum 8 characters
      </p>
      {% if form.new_password.errors %}
        <p class="text-red-500 text-sm">{{ form.new_password.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Confirm New Password</label>
      {{ form.confirm_password }}
      {% if form.confirm_password.errors %}
        <p class="text-red-500 text-sm">{{ form.confirm_password.errors.0 }}</p>
      {% endif %}
    </div>

    <div class="flex gap-3 pt-4">
      <button
        type="submit"
        class="bg-red-600 text-white px-6 py-2 rounded hover:bg-red-700">
        Update Password
      </button>

      <a href="{% url 'profile' %}"
         class="border px-6 py-2 rounded hover:bg-gray-100">
        Cancel
      </a>
    </div>
  </form>
</div>
{% endblock %}
